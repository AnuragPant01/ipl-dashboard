"use strict";exports.id=445,exports.ids=[445],exports.modules={6445:(e,t,a)=>{a.d(t,{p:()=>useIPLData,Q:()=>usePaginatedMatches});var s=a(6689);let l="/api/ipl";async function fetchIPLData(){let e=await fetch(l);if(!e.ok){let t=await e.text().catch(()=>"");throw Error(t||`Failed to fetch IPL data (${e.status})`)}return e.json()}async function fetchMatches(e,t=1,a=10){let s=`${l}?category=${encodeURIComponent(e)}&page=${t}&pageSize=${a}`,r=await fetch(s);if(!r.ok){let e=await r.text().catch(()=>"");throw Error(e||`Failed to fetch matches (${r.status})`)}return r.json()}function useIPLData(e=null){let[t,a]=(0,s.useState)(e),[l,r]=(0,s.useState)(!1),[n,c]=(0,s.useState)(null),u=(0,s.useCallback)(async()=>{r(!0),c(null);try{let e=await fetchIPLData();a(e)}catch(e){c(e instanceof Error?e.message:"Unknown error")}finally{r(!1)}},[]);return(0,s.useEffect)(()=>{u();let e=setInterval(()=>{u()},3e4);return()=>clearInterval(e)},[u]),{data:t,loading:l,error:n,refreshData:u}}function usePaginatedMatches(e,t=10){let[a,l]=(0,s.useState)(1),[r,n]=(0,s.useState)({items:[],page:1,pageSize:t,total:0,totalPages:1}),[c,u]=(0,s.useState)(!1),[o,i]=(0,s.useState)(null),f=(0,s.useCallback)(async a=>{u(!0),i(null);try{let s=await fetchMatches(e,a,t);n(s),l(s.page)}catch(e){i(e instanceof Error?e.message:"Unknown error")}finally{u(!1)}},[e,t]);(0,s.useEffect)(()=>{l(1),f(1)},[e,t,f]),(0,s.useEffect)(()=>{if("live"!==e)return;let t=setInterval(()=>f(a),15e3);return()=>clearInterval(t)},[e,a,f]);let h=(0,s.useCallback)(()=>{r.page<r.totalPages&&f(r.page+1)},[r,f]),g=(0,s.useCallback)(()=>{r.page>1&&f(r.page-1)},[r,f]);return{...r,loading:c,error:o,next:h,prev:g,setPage:l,reload:()=>f(a)}}}};
"use strict";(()=>{var e={};e.id=29,e.ids=[29],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2676:(e,a,t)=>{t.r(a),t.d(a,{config:()=>p,default:()=>l,routeModule:()=>g});var i={};t.r(i),t.d(i,{default:()=>handler});var n=t(1802),s=t(7153),r=t(6249);let o=JSON.parse('{"data":[{"series":"TATA IPL 2025","matchType":"T20","venue":"Wankhede Stadium, Mumbai","status":"Mumbai Indians need 45 runs in 30 balls","teamInfo":[{"id":1,"name":"Mumbai Indians","shortname":"MI","image":"https://upload.wikimedia.org/wikipedia/en/thumb/c/cd/Mumbai_Indians_Logo.svg/1200px-Mumbai_Indians_Logo.svg.png"},{"id":2,"name":"Chennai Super Kings","shortname":"CSK","image":"https://upload.wikimedia.org/wikipedia/en/thumb/2/2b/Chennai_Super_Kings_Logo.svg/800px-Chennai_Super_Kings_Logo.svg.png"}],"score":[{"r":152,"w":4,"o":16},{"r":196,"w":7,"o":20}],"started":true,"completed":false,"dateTimeGMT":"2025-04-10T14:00:00Z"}]}'),m=JSON.parse('{"data":{"matches":[{"series":"TATA IPL 2025","matchType":"T20","venue":"Arun Jaitley Stadium, Delhi","teamInfo":[{"id":3,"name":"Delhi Capitals","shortname":"DC","image":"https://i.pinimg.com/564x/95/7f/9c/957f9cc51341fc7b3d06ad6a2129d5cc.jpg"},{"id":4,"name":"Kolkata Knight Riders","shortname":"KKR","image":"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Kolkata_Knight_Riders_Logo.svg/1200px-Kolkata_Knight_Riders_Logo.svg.png"}],"dateTimeGMT":"2025-04-12T14:00:00Z","started":false,"completed":false},{"series":"TATA IPL 2025","matchType":"T20","venue":"M. Chinnaswamy Stadium, Bengaluru","teamInfo":[{"id":5,"name":"Royal Challengers Bengaluru","shortname":"RCB","image":"https://upload.wikimedia.org/wikipedia/en/thumb/2/2b/Royal_Challengers_Bangalore_logo.svg/1200px-Royal_Challengers_Bangalore_logo.svg.png"},{"id":6,"name":"Sunrisers Hyderabad","shortname":"SRH","image":"https://icon2.cleanpng.com/20180330/fqe/avc4ftbcm.webp"}],"dateTimeGMT":"2025-04-14T14:00:00Z","started":false,"completed":false},{"series":"TATA IPL 2025","matchType":"T20","venue":"Eden Gardens, Kolkata","teamInfo":[{"id":4,"name":"Kolkata Knight Riders","shortname":"KKR","image":"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Kolkata_Knight_Riders_Logo.svg/1200px-Kolkata_Knight_Riders_Logo.svg.png"},{"id":1,"name":"Mumbai Indians","shortname":"MI","image":"https://upload.wikimedia.org/wikipedia/en/thumb/c/cd/Mumbai_Indians_Logo.svg/1200px-Mumbai_Indians_Logo.svg.png"}],"dateTimeGMT":"2025-04-16T14:00:00Z","started":false,"completed":false}]}}'),d=JSON.parse('{"data":{"standings":[{"team":"Kolkata Knight Riders","played":14,"wins":10,"losses":4,"points":20,"nrr":"+1.428","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/4/4c/Kolkata_Knight_Riders_Logo.svg/1200px-Kolkata_Knight_Riders_Logo.svg.png"},{"team":"Sunrisers Hyderabad","played":14,"wins":9,"losses":5,"points":18,"nrr":"+0.912","logo":"https://icon2.cleanpng.com/20180330/fqe/avc4ftbcm.webp"},{"team":"Delhi Capitals","played":14,"wins":8,"losses":6,"points":16,"nrr":"+0.103","logo":"https://i.pinimg.com/564x/95/7f/9c/957f9cc51341fc7b3d06ad6a2129d5cc.jpg"},{"team":"Mumbai Indians","played":14,"wins":7,"losses":7,"points":14,"nrr":"-0.051","logo":"https://upload.wikimedia.org/wikipedia/en/thumb/c/cd/Mumbai_Indians_Logo.svg/1200px-Mumbai_Indians_Logo.svg.png"}]}}');function toDisplayScore(e){if(!e)return{score:"",overs:""};let a=e.r??e.runs??e.score??"",t=e.w??e.wickets??"",i=e.o??e.overs??"",n=""!==a&&""!==t?`${a}/${t}`:String(a??"");return{score:n,overs:String(i??"")}}function mapMatch(e,a){let t=e.teamInfo||e.teams||[],i=t[0]||{},n=t[1]||{},s=i.name||e["team-1"]||e.team1||i.shortname||"TBD",r=n.name||e["team-2"]||e.team2||n.shortname||"TBD",o=e.id||e.unique_id||e.key||`${Date.parse(e.dateTimeGMT||e.date||"")||a}`,m=Number(String(o).replace(/\D/g,""))||a+1;return{matchId:m,team1:s,team2:r,date:e.dateTimeGMT||e.date||new Date().toISOString(),venue:e.venue||e.venueInfo?.name||e.venue_info?.stadium||""}}async function handler(e,a){(process.env.CRICAPI_KEY||"").trim();let{category:t,page:i,pageSize:n}=e.query,s=Math.max(1,parseInt(i||"1",10)||1),r=Math.min(50,Math.max(1,parseInt(n||"10",10)||10));try{let e=[],i=[],n=[];if(e=Array.isArray(o?.data)?o.data:[],i=Array.isArray(m?.data?.matches)?m.data.matches:[],n=d?.data?.standings||[],t){let n=[];if("live"===t)n=(e||[]).map(mapMatch);else if("upcoming"===t)n=(i||[]).filter(e=>!(e.matchStarted??e.started)).map(mapMatch);else if("schedule"===t||"all"===t)n=(i||[]).map(mapMatch);else{a.status(400).json({error:"Invalid category"});return}let o=n.length,m=(s-1)*r,d=m+r,l=n.slice(m,d),p=Math.max(1,Math.ceil(o/r));a.status(200).json({items:l,page:s,pageSize:r,total:o,totalPages:p});return}let l=(e||[]).find(e=>(e.matchStarted??e.started??!1)&&!(e.matchEnded??e.completed))||null,p={liveMatch:l?function(e){let a=e.teamInfo||e.teams||[],t=a[0]||{},i=a[1]||{},n=e.score||e.scores||[],s=toDisplayScore(n[0]),r=toDisplayScore(n[1]);return{tournament:e.series||e.name||"IPL",matchType:e.matchType||e.type||"T20",venue:e.venue||e.venueInfo?.name||e.venue_info?.stadium||"",status:e.status||"",requiredRate:String(e.requiredRunRate??""),currentRate:String(e.runRate??""),commentary:e.status||"",team1:{id:String(t.id||t.key||t.name||""),name:t.name||t.shortname||e["team-1"]||e.team1||"",logo:t.img||t.image||t.image_path||"",score:s.score,overs:s.overs},team2:{id:String(i.id||i.key||i.name||""),name:i.name||i.shortname||e["team-2"]||e.team2||"",logo:i.img||i.image||i.image_path||"",score:r.score,overs:r.overs}}}(l):null,upcomingMatches:(i||[]).slice(0,10).filter(e=>!(e.matchStarted??e.started)).map(mapMatch),pointsTable:(n||[]).map(e=>({name:e.team||e.name||e.short_name||"",played:Number(e.played??e.matches??0),won:Number(e.wins??e.won??0),lost:Number(e.losses??e.lost??0),points:Number(e.points??e.pts??0),nrr:String(e.nrr??e.net_run_rate??"0.000"),logo:e.logo||e.img||""})),schedule:(i||[]).slice(0,20).map(mapMatch)};a.status(200).json(p)}catch(e){a.status(500).json({error:e?.message||"Unknown error"})}}let l=(0,r.l)(i,"default"),p=(0,r.l)(i,"config"),g=new n.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/ipl",pathname:"/api/ipl",bundlePath:"",filename:""},userland:i})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[222],()=>__webpack_exec__(2676));module.exports=t})();